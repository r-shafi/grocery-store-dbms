{% extends 'parent.html' %} {% block title %}
<title>Products Display</title>
{% endblock title %} {% block body %}
<div class="flex flex-col gap-4 w-full">
  <div class="flex flex-wrap gap-2 justify-center pb-8">
    {% if categories|length > 0 %}
    <a
      class="px-3 py-1 rounded-md shadow-sm sm:py-2 sm:text-base ring ring-transparent md:px-4 hover:ring hover:ring-opacity-50 focus:ring-opacity-50 hover:ring-violet-600 {{ 'text-white bg-violet-600' if not selected_category else 'text-gray-900 bg-gray-200' }}"
      href="{{ url_for('public.index') }}"
    >
      <span class="text-sm">All Products</span>
    </a>
    {% endif %} {% for category in categories %}
    <a
      class="px-3 py-1 rounded-md shadow-sm sm:py-2 sm:text-base ring ring-transparent group md:px-4 hover:ring hover:ring-opacity-50 focus:ring-opacity-50 hover:ring-violet-600 {{ 'text-white bg-violet-600' if selected_category.id == category.id else 'text-gray-900 bg-gray-200' }}"
      href="{{ url_for('public.products_by_category', category_id=category.id) }}"
    >
      <span class="text-sm">{{ category.name }}</span>
    </a>
    {% endfor %}
  </div>

  {% if products %}
  <div
    class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 justify-center"
  >
    {% for product in products %}
    <div
      class="relative flex w-full max-w-xs flex-col overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md"
    >
      <a
        class="relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl"
        href="{{ url_for('public.product_details', product_id=product.id) }}"
      >
        <img
          class="object-cover w-full h-60"
          src="{{ product.image }}"
          alt="product image"
          loading="lazy"
        />
      </a>
      <div class="mt-4 p-4 flex flex-col justify-between h-1/2">
        <a
          href="{{ url_for('public.product_details', product_id=product.id) }}"
          class="text-xl tracking-tight text-slate-900 flex-1"
        >
          {{ product.name }}
        </a>
        <div>
          <div class="mt-2 mb-5 flex items-center justify-between">
            <p>
              <span class="text-3xl font-bold text-slate-900"
                >à§³{{ product.price }}</span
              >
            </p>
            <div class="flex items-center">
              <span
                class="flex items-center justify-center gap-2 mr-2 ml-3 rounded bg-yellow-50 px-2.5 py-0.5 text-xs font-semibold"
              >
                <svg
                  aria-hidden="true"
                  class="h-5 w-5 text-yellow-400"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  ></path>
                </svg>
                5.0
              </span>
            </div>
          </div>
          <form
            action="{{ url_for('order.add_to_cart') }}"
            method="post"
            class="flex"
          >
            <input type="hidden" name="product_id" value="{{ product.id }}" />
            <button
              type="submit"
              class="flex-1 rounded-md bg-slate-900 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-blue-300 flex items-center justify-center gap-2"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="mr-2 h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
                />
              </svg>
              Add to cart
            </button>
          </form>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="max-w-sm mx-auto text-center text-2xl p-4 rounded-lg shadow-lg">
    No Products Available!
  </p>
  {% endif %}
</div>

{% if error %}
<div role="alert">{{ error }}</div>
{% endif %} {% endblock %}
